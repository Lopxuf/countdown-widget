<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Notion Countdown</title>
<style>
  /* --- å…¨å±€è®¾ç½® --- */
  :root {
    --bg-color: #ffffff;       /* èƒŒæ™¯ç™½ */
    --text-primary: #37352f;   /* Notion é»˜è®¤é»‘ */
    --text-secondary: #9b9a97; /* Notion é»˜è®¤ç° */
    --accent-color: #2e8bc0;   /* å¼ºè°ƒè‰²ï¼ˆæ·¡è“ï¼‰ï¼Œå¯è‡ªè¡Œä¿®æ”¹ */
    --card-shadow: 0 8px 30px rgba(0,0,0,0.04);
    --card-border: 1px solid #f0f0f0;
  }

  body {
    margin: 0;
    height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: var(--bg-color);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Helvetica, "Apple Color Emoji", Arial, sans-serif, "Segoe UI Emoji", "Segoe UI Symbol";
    overflow: hidden; /* é˜²æ­¢å‡ºç°æ»šåŠ¨æ¡ */
  }

  /* --- å¡ç‰‡å®¹å™¨ --- */
  .card {
    text-align: center;
    background: #fff;
    padding: 40px 60px;
    border-radius: 16px;
    /* å¦‚æœæƒ³è¦çº¯å¹³æ•ˆæœï¼Œåˆ æ‰ä¸‹é¢ä¸¤è¡Œ */
    box-shadow: var(--card-shadow);
    border: var(--card-border);
    
    display: flex;
    flex-direction: column;
    align-items: center;
    transition: transform 0.2s ease;
  }

  /* --- æ ‡é¢˜æ ·å¼ --- */
  h1 {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-secondary);
    margin: 0 0 24px 0;
    letter-spacing: 1px;
    text-transform: uppercase;
  }

  /* --- æ—¶é—´å®¹å™¨ --- */
  .timer-container {
    display: flex;
    gap: 30px; /* æ•°å­—ä¹‹é—´çš„é—´è· */
  }

  .time-unit {
    display: flex;
    flex-direction: column;
    align-items: center;
  }

  /* --- æ•°å­—æ ·å¼ --- */
  .number {
    font-size: 48px;
    font-weight: 700;
    color: var(--text-primary);
    line-height: 1;
    font-variant-numeric: tabular-nums; /* é˜²æ­¢æ•°å­—è·³åŠ¨æ—¶å®½åº¦å˜åŒ– */
  }

  /* --- æ ‡ç­¾ï¼ˆå¤©/æ—¶/åˆ†/ç§’ï¼‰ --- */
  .label {
    font-size: 12px;
    color: var(--text-secondary);
    margin-top: 8px;
    font-weight: 500;
  }

  /* --- è¿‡æœŸçŠ¶æ€ --- */
  .expired-message {
    font-size: 24px;
    font-weight: 600;
    color: var(--text-primary);
  }
  
  /* --- ç§»åŠ¨ç«¯é€‚é… --- */
  @media (max-width: 500px) {
    .card { padding: 20px; width: 90%; }
    .timer-container { gap: 15px; }
    .number { font-size: 32px; }
  }
</style>
</head>
<body>

  <div class="card">
    <h1 id="title">è·ç¦»ç›®æ ‡è¿˜æœ‰</h1>
    <div id="timer" class="timer-container">
      <!-- JSä¼šå¡«å……è¿™é‡Œ -->
      <div class="time-unit"><span class="number">-</span><span class="label">DAYS</span></div>
      <div class="time-unit"><span class="number">-</span><span class="label">HRS</span></div>
      <div class="time-unit"><span class="number">-</span><span class="label">MIN</span></div>
      <div class="time-unit"><span class="number">-</span><span class="label">SEC</span></div>
    </div>
  </div>

<script>
  // 1. è·å– URL å‚æ•° (æ ¸å¿ƒåŠŸèƒ½)
  const params = new URLSearchParams(window.location.search);
  
  // è·å–ç”¨æˆ·è®¾ç½®çš„æ—¥æœŸï¼Œå¦‚æœæ²¡æœ‰åˆ™é»˜è®¤åˆ°ä»Šå¹´å¹´åº•
  // æ ¼å¼æ”¯æŒ: 2025-12-31 æˆ– 2025-12-31T18:00:00
  let dateParam = params.get('date');
  if (!dateParam) {
    const nextYear = new Date().getFullYear() + 1;
    dateParam = `${nextYear}-01-01T00:00:00`; // é»˜è®¤å€¼
  }
  
  // è·å–ç”¨æˆ·è®¾ç½®çš„æ ‡é¢˜
  const titleParam = params.get('title');
  if (titleParam) {
    document.getElementById('title').innerText = decodeURIComponent(titleParam);
  }

  const targetDate = new Date(dateParam).getTime();

  function updateTimer() {
    const now = new Date().getTime();
    const distance = targetDate - now;

    if (distance < 0) {
      document.getElementById("timer").innerHTML = '<div class="expired-message">ğŸ‰ å·²è¾¾æˆ / å·²ç»“æŸ</div>';
      document.getElementById("title").style.display = 'none'; // éšè—æ ‡é¢˜
      return;
    }

    const days = Math.floor(distance / (1000 * 60 * 60 * 24));
    const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
    const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
    const seconds = Math.floor((distance % (1000 * 60)) / 1000);

    document.getElementById("timer").innerHTML = `
      <div class="time-unit">
        <span class="number">${days}</span>
        <span class="label">å¤©</span>
      </div>
      <div class="time-unit">
        <span class="number">${String(hours).padStart(2, '0')}</span>
        <span class="label">æ—¶</span>
      </div>
      <div class="time-unit">
        <span class="number">${String(minutes).padStart(2, '0')}</span>
        <span class="label">åˆ†</span>
      </div>
      <div class="time-unit">
        <span class="number">${String(seconds).padStart(2, '0')}</span>
        <span class="label">ç§’</span>
      </div>
    `;
  }

  // ç«‹å³è¿è¡Œä¸€æ¬¡ï¼Œé¿å…é¡µé¢åŠ è½½æ—¶çš„é—ªçƒ
  updateTimer();
  // æ¯ç§’æ›´æ–°
  setInterval(updateTimer, 1000);
</script>
</body>
</html>
